import os,sys
from detector import *

checked = {
"lstm_True_1_2att":0.9629629629629629,
"lstm_True_1_2att_wins100":0.8548548548548549,
"lstm_True_1_2att_wins200":0.9049049049049049,
"lstm_True_1_2att_wins300":0.9219219219219219,
"lstm_True_1_2att_wins400":0.948948948948949,
"lstm_True_1_2att_wins500":0.954954954954955,
"lstm_True_1_2att_wins600":0.9619619619619619,
"lstm_True_1_2att_wins700":0.950950950950951,
"lstm_True_1_2att_wins800":0.94994994994995,
"lstm_True_1_2att_wins900":0.95995995995996,
"lstm_True_1_2att_stride0.4":0.934934934934935,
"lstm_True_1_2att_stride0.6":0.91991991991992,
"lstm_True_1_2att_stride0.8":0.8918918918918919,
"lstm_True_1_2att_stride1.0":0.7897897897897898,
"lstm_True_1_2att_winszero":0.8758758758758759,
"rnn_True_rnn":0.8918918918918919,
"rnn_False_rnn":0.9049049049049049,
"lstm_True_rnn":0.9209209209209209,
"lstm_False_rnn":0.9309309309309309,
"gru_True_rnn":0.9059059059059059,
"gru_False_rnn":0.913913913913914,
"rnn_True_att1":0.9419419419419419,
"rnn_False_att1":0.948948948948949,
"lstm_True_att1":0.9419419419419419,
"lstm_False_att1":0.950950950950951,
"gru_True_att1":0.9469469469469469,
"gru_False_att1":0.958958958958959,
"rnn_True_att2":0.9329329329329329,
"rnn_False_att2":0.9419419419419419,
"lstm_False_att2":0.9459459459459459,
"lstm_True_att2":0.954955,
"gru_True_att2":0.9369369369369369,
"gru_False_att2":0.93993993993994,
"rnn_True_2att":0.948948948948949,
"rnn_False_2att":0.9479479479479479,
"lstm_True_2att":0.960960960960961,
"lstm_False_2att":0.938938938938939,
"gru_True_2att":0.9629629629629629,
"gru_False_2att":0.9579579579579579,}
def scan_file(localpath):
	for fn in os.listdir(localpath):
		if os.path.isdir(os.path.join(localpath, fn)) and (fn not in checked.keys()):
			print('model/detector/'+fn+'/')
			config['save_path'] = 'model/detector/'+fn+'/'
			pred,label,acc = predict(config)
			print(acc)

scan_file('/home/dbtest/lan/Malware/model/detector/')
